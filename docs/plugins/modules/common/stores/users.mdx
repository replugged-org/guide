---
description: All functions of GuildMemberStore and UserStore
---

import APIReferences from "@site/src/components/APIReferences";
import Required from "@site/src/components/Required";
import RequiredNotice from "@site/src/components/RequiredNotice.mdx";

<RequiredNotice />

### Functions

| Name                              | Parameters                                                                                                          | Return Type                                                             | Description                                                        |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- | ------------------------------------------------------------------ |
| `filter`                          | <Required /> `callback`: (user: <APIReferences.User />) => <APIReferences.User /> \| boolean <br /> `sort`: boolean | <APIReferences.User />[]                                                | Filters all users                                                  |
| `findByTag`                       | <Required /> `username`: string <br /> `discriminator`: string                                                      | <APIReferences.User /> \| undefined                                     | Gets the user by its username and discriminator                    |
| `forEach`                         | <Required /> `callback`: (user: <APIReferences.User />) => void                                                     | void                                                                    | Runs a function on each user                                       |
| `getCommunicationDisabledUserMap` |                                                                                                                     | Record<string,&nbsp;string>                                             | Gets all guild member timeout (communication disabled) information |
| `getCommunicationDisabledVersion` |                                                                                                                     | number                                                                  | Gets the communication disabled version                            |
| `getCurrentUser`                  |                                                                                                                     | <APIReferences.User />                                                  | Gets the current user                                              |
| `getMember`                       | <Required /> `guildId`: string <br /> <Required /> `userId`: string                                                 | <APIReferences.GuildMember /> \| null                                   | Gets the guild member by its id                                    |
| `getMemberIds`                    | `guildId`: string                                                                                                   | string[]                                                                | Gets all guild member ids                                          |
| `getMemberRoleWithPendingUpdates` | <Required /> `guildId`: string <br /> <Required /> `userId`: string                                                 | string[]                                                                | Gets all pending role updates a guild member has                   |
| `getMembers`                      | `guildId`: string                                                                                                   | <APIReferences.GuildMember />[]                                         | Gets all fetched members in a guild                                |
| `getMemberVersion`                |                                                                                                                     | number                                                                  | Gets the guild member store version                                |
| `getMutableAllGuildsAndMembers`   |                                                                                                                     | Record<string,&nbsp;Record<string,&nbsp;<APIReferences.GuildMember />>> | Gets all guilds and its fetched members                            |
| `getNick`                         | `guildId`: string <br /> `userId`: string                                                                           | string \| null                                                          | Gets the nickname a guild member has                               |
| `getNicknameGuildsMapping`        | <Required /> `userId`: string                                                                                       | Record<string,&nbsp;string[]>                                           | Gets all nicknames a user has and in which guilds                  |
| `getNicknames`                    | <Required /> `userId`: string                                                                                       | string[]                                                                | Gets all nicknames a user has                                      |
| `getPendingRoleUpdates`           | <Required /> `guildId`: string                                                                                      | [`PendingRoleUpdate`](#PendingRoleUpdate)                               | Gets pending role updates of a guild                               |
| `getSelfMember`                   | <Required /> `guildId`: string                                                                                      | <APIReferences.GuildMember /> \| null                                   | Gets the guild member of the current user                          |
| `getTrueMember`                   | <Required /> `guildId`: string <br /> <Required /> `userId`: string                                                 | <APIReferences.GuildMember /> \| null                                   | Gets the guild member by its id                                    |
| `getUser`                         | <Required /> `userId`: string                                                                                       | <APIReferences.User /> \| undefined                                     | Gets the user by its id                                            |
| `getUsers`                        |                                                                                                                     | Record<string,&nbsp;<APIReferences.User />>                             | Gets all users                                                     |
| `getUserStoreVersion`             |                                                                                                                     | number                                                                  | Gets the user store version                                        |
| `isCurrentUserGuest`              | `guildId`: string                                                                                                   | boolean                                                                 | Checks if the current user is a guest of a guild                   |
| `isGuestOrLurker`                 | `guildId`: string <br /> `userId`: string                                                                           | boolean                                                                 | Checks if a user is a guest of a guild                             |
| `isMember`                        | `guildId`: string <br /> `userId`: string                                                                           | boolean                                                                 | Checks if a user is a member of a guild                            |
| `memberOf`                        | <Required /> `userId`: string                                                                                       | string[]                                                                | Gets all mutual servers of a user                                  |

### Types {#users-types}

#### `PendingRoleUpdate` {#PendingRoleUpdate}

| Name      | Type                          | Description                                   |
| --------- | ----------------------------- | --------------------------------------------- |
| `added`   | Record<string,&nbsp;string[]> | Contains a list of members with added roles   |
| `removed` | Record<string,&nbsp;string[]> | Contains a list of members with removed roles |
